:root{
  --bg: #ffffff;
  --fg: #111111;
  --muted:#555;
  --border:#e5e7eb;
  --panel:#ffffff;
  --btn:#222;
  --btn-text:#fff;
  --success: #28a745;
  --error: #dc3545;
}

[data-theme="dark"]{
  --bg:#0f1115;
  --fg:#e5e7eb;
  --muted:#a3a3a3;
  --border:#2a2f3a;
  --panel:#161a22;
  --btn:#2f81f7;
  --btn-text:#0b1020;
}

* { box-sizing: border-box; }
body { margin:0; font:14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Arial; color:var(--fg); background:var(--bg); }
.layout { display:grid; grid-template-columns: 280px 1fr; height:100vh; }
.sidebar { border-right:1px solid var(--border); padding:12px; display:flex; flex-direction:column; gap:12px; background:var(--panel); }
.side-header { display:flex; align-items:center; justify-content:space-between; }
.side-actions{ display:flex; gap:6px; }
.import-group { display:flex; flex-direction:column; gap:6px; }
.btn { background:var(--btn); color:var(--btn-text); border:none; padding:6px 10px; border-radius:8px; cursor:pointer; }
.btn:hover { opacity:.95; }
.groups { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:4px; }
.groups li { padding:6px 8px; border-radius:8px; cursor:pointer; border:1px solid transparent; }
.groups li.active { background:rgba(127,127,127,.15); font-weight:600; }
.groups li.dragover { border-color:#999; }
.add-group { display:flex; gap:6px; }
.add-group input { flex:1; }
.content { padding:12px; display:flex; flex-direction:column; gap:12px; }
.toolbar { display:grid; grid-template-columns: 1fr 1fr 2fr 1fr auto; gap:8px; }
input, select, textarea { padding:8px; border:1px solid var(--border); border-radius:8px; background:var(--panel); color:var(--fg); width: 100%; font-family: inherit; }
.list { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:8px; overflow:auto; flex:1; }
.item { display:grid; grid-template-columns: 20px 24px 1fr auto; gap:10px; align-items:center; padding:8px; border:1px solid var(--border); border-radius:10px; background:var(--panel); }
.item .favicon {
  width: 20px;
  height: 20px;
  border-radius: 4px;
  background-color: var(--border);
}
.item-content { display:flex; flex-direction:column; gap:4px; overflow: hidden; }
.item .title { font-weight:600; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.item .url { color:var(--muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.item .taglist { color:var(--muted); font-size:12px; opacity:.9; }
.item .taglist .tag { cursor: pointer; background: rgba(127,127,127,0.1); padding: 2px 5px; border-radius: 4px; margin-right: 4px; }
.item .taglist .tag:hover { background: rgba(127,127,127,0.2); }
/* НОВЫЙ КОД: Стили для заметки */
.item .notes-display {
  font-size: 13px;
  color: var(--muted);
  white-space: pre-wrap;
  margin-top: 4px;
  padding-left: 2px;
}
.item .pin { cursor:pointer; user-select:none; opacity:.4; }
.item.pinned .pin { opacity:1; }
.item.dragging { opacity:.6; }
.item-actions { display:flex; gap:6px; }

/* Inline Editing */
.item .edit-view, .item .edit-actions { display: none; }
.item.editing .display-view, .item.editing .display-actions { display: none; }
.item.editing .edit-view, .item.editing .edit-actions { display: flex; }
.item.editing .edit-view { flex-direction: column; gap: 6px; }
.item.editing .edit-actions { gap: 6px; }

/* Notifications */
#notifications { position: fixed; bottom: 20px; right: 20px; z-index: 1000; display: flex; flex-direction: column; gap: 10px; }
.toast { padding: 12px 18px; border-radius: 8px; color: #fff; font-weight: 500; opacity: 0; transform: translateX(100%); animation: slideIn 0.3s forwards; }
.toast.info { background: var(--btn); }
.toast.success { background: var(--success); }
.toast.error { background: var(--error); }
@keyframes slideIn { to { opacity: 1; transform: translateX(0); } }

/* Modal */
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); display: flex; align-items: center; justify-content: center; z-index: 100; }
.modal-content { background: var(--bg); padding: 24px; border-radius: 12px; width: 90%; max-width: 400px; display: flex; flex-direction: column; gap: 12px; border: 1px solid var(--border); }
.modal-actions { display: flex; justify-content: flex-end; gap: 8px; margin-top: 12px; }

/* Стили для кнопки удаления группы */
.groups li {
  position: relative;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.delete-group-btn {
  display: none; /* Скрыта по умолчанию */
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 16px;
  line-height: 1;
  padding: 2px 4px;
  border-radius: 4px;
  color: var(--muted);
  font-weight: bold;
}

.groups li:hover .delete-group-btn {
  display: block; /* Показываем при наведении */
}

.delete-group-btn:hover {
  color: var(--fg);
  background-color: rgba(127,127,127,.1);
}
